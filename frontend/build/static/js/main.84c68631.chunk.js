(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{45:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(18),r=n.n(a),s=(n(45),n(20)),i=n(4),o=n(8),l=n(1),u=function(e){var t=e.addedNotes;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("p",{children:t})})},j=n(13),d=n(5),b=n.n(d),p=n(35),h=n.n(p).a.create({baseURL:"https://voice-memo-mern.herokuapp.com/"});h.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var O=function(e,t){return h.patch("/speech/".concat(e),t)},x=function(e){return h.delete("/speech/".concat(e))},f=function(e){return h.post("/user/signin",e)},m=function(e){return h.post("/user/signup",e)},v="CREATE_NOTE",g="UPDATE_NOTE",y="DELETE_NOTE",N="FETCH_ALL",w="AUTH",S="LOGOUT",k=n(10),C=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{id:"link-div",style:{marginTop:"25px"},children:[Object(l.jsx)(k.b,{to:"/",children:Object(l.jsx)("button",{className:"links",children:"Recording Page"})}),Object(l.jsx)(k.b,{to:"/savednotes",children:Object(l.jsx)("button",{className:"links",children:"Saved Notes"})})]})})},F=new(window.SpeechRecognition||window.webkitSpeechRecognition);F.continuous=!0,F.interimResults=!0,F.lang="en-US";var D=function(){var e,t,n=Object(c.useState)(!1),a=Object(i.a)(n,2),r=a[0],d=a[1],p=Object(c.useState)(null),O=Object(i.a)(p,2),x=O[0],f=O[1],m=Object(c.useState)([]),g=Object(i.a)(m,2),y=g[0],N=g[1],w=Object(o.b)(),S=localStorage.getItem("profile"),k=JSON.parse(S),D="".concat(null===k||void 0===k||null===(e=k.result)||void 0===e?void 0:e.firstName," ").concat(null===k||void 0===k||null===(t=k.result)||void 0===t?void 0:t.lastName);Object(c.useEffect)((function(){r?(F.start(),F.onend=function(){F.start()}):(F.stop(),F.onend=function(){}),F.onstart=function(){},F.onresult=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");f(t),F.onerror=function(e){console.log(e.error)}}}),[r]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C,{}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"speechbox",children:[Object(l.jsx)("h2",{style:{margin:"10px",padding:"5px"},children:"Note recorded"}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 18px"},children:[Object(l.jsx)("div",{style:{height:"100%",margin:"4px",fontWeight:"bold"},children:r?Object(l.jsx)("span",{className:"fade-in-text",children:"is recording"}):Object(l.jsx)("span",{children:"not recording"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:x?"btn":"disabled",onClick:function(){N([].concat(Object(s.a)(y),[x])),f("")},disabled:!x,children:"Add Note"}),Object(l.jsx)("button",{className:"btn",style:{marginLeft:"4px"},onClick:function(){return d((function(e){return!e}))},children:"Start/Stop"})]})]}),Object(l.jsx)("div",{style:{height:"70%"},children:x?Object(l.jsx)("p",{className:"recordingbox",children:x}):Object(l.jsx)("p",{className:"recordingbox",children:"press the button to start recording"})})]}),Object(l.jsxs)("div",{className:"savebox",children:[Object(l.jsx)("h2",{style:{margin:"10px",padding:"5px"},children:"Notes to save"}),Object(l.jsx)("div",{className:"recordingbox",style:{height:"78%"},children:y.map((function(e){return Object(l.jsx)(u,{addedNotes:e},e)}))}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,n=y.join();w((t={speech:n,name:D},function(){var e=Object(j.a)(b.a.mark((function e(n){var c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=t,h.post("/speech",r);case 3:c=e.sent,a=c.data,console.log(a),n({type:v,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}var r}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),N([])},children:[Object(l.jsx)("input",{style:{display:"none"},type:"text",value:y,onChange:function(e){return N(e.target.value)}}),Object(l.jsx)("div",{style:{margin:"6px"},children:Object(l.jsx)("button",{type:"submit",className:0!==y.length&&S?"btn":"disabled",disabled:0===y.length||!S,style:{width:"90px"},children:"Save"})})]})]})]})]})},E=n(3),T=function(e){var t=e.note;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(k.b,{to:"/".concat(t._id),style:{textDecoration:"none"},children:Object(l.jsx)("div",{className:"savednote",children:t.speech})})})},I=function(){var e=Object(o.c)((function(e){return e.speeches})),t=Object(o.b)();return console.log(e),Object(c.useEffect)((function(){t(function(){var e=Object(j.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/speech");case 3:n=e.sent,c=n.data,t({type:N,payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C,{}),Object(l.jsx)("div",{className:"savednoteContainer",children:e.map((function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(T,{note:e},e._id)})}))})]})},_=function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{localStorage.clear(),n({type:S}),e("/auth")}catch(c){console.log(c)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=n(36),R=function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(o.b)(),s=Object(E.f)(),u=Object(E.e)();return Object(c.useEffect)((function(){var e=null===n||void 0===n?void 0:n.token;e&&(1e3*Object(L.a)(e).exp<(new Date).getTime()&&r(_(s)));a(JSON.parse(localStorage.getItem("profile")))}),[u,s]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"navbar",children:[Object(l.jsx)("h1",{style:{margin:"10px",padding:"5px"},children:"Voice Memo"}),n?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(k.b,{to:"/",children:Object(l.jsx)("button",{className:"btn",onClick:function(e){e.preventDefault(),r(_(s))},children:"LOGOUT"})})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(k.b,{to:"/auth",children:Object(l.jsx)("button",{className:"btn",children:"LOGIN"})})})]})})},A=n(19),J=n(11),P=n(21),U=n(24),G=function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"input-icons",style:{width:"100%"},children:[Object(l.jsx)("input",{name:e.name,type:e.type,value:e.value,onChange:e.handleChange,placeholder:e.placeholder,className:"inputs"}),"password"===e.name?Object(l.jsx)("i",{onClick:e.handleVisibility,className:"icon password-icon",children:Object(l.jsx)(P.b,{})}):null,"email"===e.name?Object(l.jsx)("i",{className:"icon",children:Object(l.jsx)(P.a,{})}):null,"firstName"===e.name?Object(l.jsx)("i",{className:"icon",children:Object(l.jsx)(U.a,{})}):null,"lastName"===e.name?Object(l.jsx)("i",{className:"icon",children:Object(l.jsx)(U.a,{})}):null,"confirmPassword"===e.name?Object(l.jsx)("i",{className:"icon",children:Object(l.jsx)(P.c,{})}):null]})})},V=function(){var e=Object(E.f)(),t=Object(o.b)(),n=Object(c.useState)(!1),a=Object(i.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),d=Object(i.a)(u,2),p=d[0],h=d[1],O=function(n){n.preventDefault(),t(r?function(e,t){return function(){var n=Object(j.a)(b.a.mark((function n(c){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m(e);case 3:a=n.sent,r=a.data,c({type:w,data:r}),t("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(p,e):function(e,t){return function(){var n=Object(j.a)(b.a.mark((function n(c){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f(e);case 3:a=n.sent,r=a.data,c({type:w,data:r}),t("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(p,e))},x=function(e){h(Object(J.a)(Object(J.a)({},p),{},Object(A.a)({},e.target.name,e.target.value)))},v=Object(c.useState)(!1),g=Object(i.a)(v,2),y=g[0],N=g[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("form",{onSubmit:O,children:Object(l.jsxs)("div",{className:"form",style:{display:"flex",flexDirection:"column",width:"50%",alignItems:"center",margin:"15px auto",marginTop:"10%"},children:[Object(l.jsx)("h1",{style:{margin:"10px",padding:"5px"},children:r?"Register":"Login"}),r?Object(l.jsx)(G,{type:"text",name:"firstName",value:p.firstName,handleChange:x,placeholder:"First Name"}):null,r?Object(l.jsx)(G,{type:"text",name:"lastName",value:p.lastName,handleChange:x,placeholder:"Last Name"}):null,Object(l.jsx)(G,{type:"text",name:"email",value:p.email,handleChange:x,placeholder:"Email"}),Object(l.jsx)(G,{type:y?"text":"password",name:"password",value:p.password,handleChange:x,handleVisibility:function(){return N((function(e){return!e}))},placeholder:"Password"}),r?Object(l.jsx)(G,{type:"text",name:"confirmPassword",value:p.confirmPassword,handleChange:x,placeholder:"Confirm Password"}):null,Object(l.jsx)("button",{type:"submit",className:"btn",style:{width:"90px"},onClick:O,children:r?"Sign Up":"Sign In"}),Object(l.jsx)("span",{className:"toggleRegister",onClick:function(e){e.preventDefault(),s((function(e){return!e}))},children:r?"Already have an accout?":"Don't have an account?"})]})})})},W=n(37),B=n.n(W),H=function(){var e,t=Object(o.b)(),n=Object(E.f)(),a=Object(E.g)().id,r=Object(o.c)((function(e){return a?e.speeches.find((function(e){return e._id===a})):null})),s=Object(c.useState)(r),u=Object(i.a)(s,2),d=u[0],p=u[1],h=JSON.parse(localStorage.getItem("profile"));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C,{}),Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(){var n=Object(j.a)(b.a.mark((function n(c){var a,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O(e,t);case 3:a=n.sent,r=a.data,console.log(r),c({type:g,payload:r}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(a,{speech:d}))},children:Object(l.jsxs)("div",{style:{height:"90vh"},children:[""!==d.speech&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("textarea",{className:"savednote textareaNote",style:{fontFamily:"Roboto"},value:d.speech,onChange:function(e){e.preventDefault(),p(e.target.value)}})}),Object(l.jsxs)("div",{style:{margin:"6px",display:"flex",justifyContent:"space-between",padding:"5px 20px",alignItems:"center"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{style:{fontWeight:"bold"},children:"Created: "}),Object(l.jsx)("span",{children:B()(d.createdAt).fromNow()})]}),r.creator!==(null===h||void 0===h||null===(e=h.result)||void 0===e?void 0:e._id)?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("span",{style:{fontWeight:"bold"},children:["This note was created by ",r.name,"."]})}):Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{style:{width:"auto"},children:[Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),t(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("note is deleted"),t.next=4,x(e);case 4:n({type:y,payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(a)),n("/savednotes")},className:"btn secondary-btn",style:{width:"90px"},children:"Delete"}),Object(l.jsx)("button",{type:"submit",className:d.speech===r.speech?"disabled":"btn",disabled:d.speech===r.speech,style:{width:"90px"},children:"Save"})]})})]})]})})]})};var q=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(R,{}),Object(l.jsxs)(E.c,{children:[Object(l.jsx)(E.a,{path:"/",element:Object(l.jsx)(D,{})}),Object(l.jsx)(E.a,{path:"/savednotes",element:Object(l.jsx)(I,{})}),Object(l.jsx)(E.a,{path:"/:id",element:Object(l.jsx)(H,{})}),Object(l.jsx)(E.a,{path:"/auth",element:Object(l.jsx)(V,{})})]})]})})},z=n(12),M=n(40),K=n(25),Q=n(38),X=n.n(Q),Y=n(39),Z=Object(z.b)({speeches:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.payload;case v:return[].concat(Object(s.a)(e),[t.payload]);case g:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case y:return e.filter((function(e){return e._id!==t.payload}));default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return localStorage.setItem("profile",JSON.stringify(Object(J.a)({},null===t||void 0===t?void 0:t.data))),Object(J.a)(Object(J.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data});case S:return Object(J.a)(Object(J.a)({},e),{},{authData:null});default:return e}}}),$={key:"main-root",storage:X.a},ee=Object(K.a)($,Z),te=Object(z.d)(ee,Object(z.c)(Object(z.a)(M.a))),ne=Object(K.b)(te);r.a.render(Object(l.jsx)(o.a,{store:te,children:Object(l.jsx)(Y.a,{loading:null,persistor:ne,children:Object(l.jsx)(k.a,{children:Object(l.jsx)(q,{})})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.84c68631.chunk.js.map